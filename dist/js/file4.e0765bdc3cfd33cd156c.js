(()=>{"use strict";function e(e,t){var n=$("#news-search-box").val();return e.preventDefault(),$.ajax({type:"POST",url:"/news/search?sort="+t,data:{search:n},datatype:"json",success:function(e){$("#news-results").html(e),$("#news-search-box").val(n),function(e="",t=1){var n,c=!1;""===e?c=!1:(c=!0,$("#news-search-box").val(e)),n=$("#pageCount").length?document.getElementById("pageCount").value:1,c?$("#compact-pagination").pagination({pages:n,cssStyle:"compact-theme",hrefTextPrefix:"?page=",hrefTextSuffix:"&term="+e,currentPage:t,onPageClick:function(t,c){a(t,c,e,n)}}):$("#compact-pagination").pagination({pages:n,cssStyle:"compact-theme",hrefTextPrefix:"?page=",currentPage:t,onPageClick:function(e,t){a(e,t,"",n)}})}(n)},fail:function(){alert("Error searching.")}}),!1}function a(e,t,n="",c=1){var r;return r=""!=n?"/news?page="+e+"&term="+n:"/news?page="+e,t.preventDefault(),$.ajax({type:"POST",url:r,data:{page:e},datatype:"json",success:function(t){$("#news-results").html(t),$("#news-search-box").val(n),$("#currentPage").val(e),""!=n?$("#compact-pagination").pagination({pages:c,cssStyle:"compact-theme",hrefTextPrefix:"?page=",hrefTextSuffix:"&term="+n,currentPage:e,onPageClick:function(e,t){a(e,t,n,c)}}):$("#compact-pagination").pagination({pages:c,cssStyle:"compact-theme",hrefTextPrefix:"?page=",currentPage:e,onPageClick:function(e,t){a(e,t,"",c)}})},fail:function(){alert("Error searching.")}}),!1}$(document).ready((function(){$("#news-search").on("click",(function(a){e(a,$("#sort").val())})),$("#sort").change((function(a){e(a,$("#sort").val())})),$((function(){$("#pageCount").length?pages=document.getElementById("pageCount").value:pages=1,$("#compact-pagination").pagination({pages,cssStyle:"compact-theme",hrefTextPrefix:"?page=",currentPage:1,onPageClick:function(e,t){a(e,t,"",pages)}})}))}))})();